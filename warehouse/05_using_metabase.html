
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using Metabase &#8212; Juniper Documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Table names" href="06_table_names.html" />
    <link rel="prev" title="SQL Snippets" href="04_sql_snippets.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Juniper Documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Juniper Documentation
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../datasets/01_overview.html">
   Overview
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../datasets/gtfs_schedule.html">
     GTFS Schedule
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../datasets/mst_payments.html">
     MST Payments
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../datasets/transitstacks.html">
     Transitstacks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../datasets/views.html">
     Views
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../kubernetes/README.html">
   Kubernetes
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../services/overview.html">
   Services
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../services/gtfs-ckan-uploader.html">
     GTFS CKAN Uploader
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../services/gtfs-rt-archive.html">
     gtfs-rt-archive
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="overview.html">
   Warehouse
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01_agencies.html">
     Agency GTFS Feeds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_views.html">
     Creating New Tables (Views)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_metrics.html">
     Metric Views
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04_sql_snippets.html">
     SQL Snippets
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Using Metabase
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06_table_names.html">
     Table names
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07_tutorial.html">
     Tutorial - Querying the CALITP Data Warehouse
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../contributing/overview.html">
   Contribute
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing/editing_doc.html">
     Editing Documentation
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/warehouse/05_using_metabase.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/warehouse/05_using_metabase.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/cal-itp/data-infra/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/cal-itp/data-infra//issues/new?title=Issue%20on%20page%20%2Fwarehouse/05_using_metabase.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/cal-itp/data-infra/master?urlpath=tree/docs/warehouse/05_using_metabase.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-metabase">
   What is Metabase?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#overview">
     Overview
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#general-metabase-resources">
     General Metabase Resources
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#metabase-at-cal-itp">
   Metabase at Cal-ITP
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cal-itp-collections">
     Cal-ITP Collections
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cal-itp-dashboards-conventions">
     Cal-ITP Dashboards Conventions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#hierarchy">
       Hierarchy
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#question-title-format">
       Question Title Format
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="using-metabase">
<h1>Using Metabase<a class="headerlink" href="#using-metabase" title="Permalink to this headline">¶</a></h1>
<p>Metabase is Cal-ITP’s dashboarding tool, and it’s where data generated by Cal-ITP’s data
pipeline can be turned in to graphs, tables, and robust dashboards.</p>
<p>This page will provide you with some general Metabase resources, as well as guidance on how
Metabase is best utilized for the Cal-ITP project.</p>
<div class="section" id="what-is-metabase">
<h2>What is Metabase?<a class="headerlink" href="#what-is-metabase" title="Permalink to this headline">¶</a></h2>
<div class="section" id="overview">
<h3>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>If you have never used Metabase before, there are a few important terms:</p>
<ul class="simple">
<li><p><strong>Question:</strong> A single table or graph, created by you with either SQL or Metabase’s point-and-click UI.</p></li>
<li><p><strong>Dashboard:</strong> A group of questions that work together to support holistic data exploration and help inform decisions.</p></li>
<li><p><strong>Collection:</strong> Essentially, a “folder” for us to put relevant questions and dashboards into.</p></li>
</ul>
<p>You can also incorporate filters into your questions and dashboards, specify custom
click behavior in your dashboards, and more.</p>
</div>
<div class="section" id="general-metabase-resources">
<h3>General Metabase Resources<a class="headerlink" href="#general-metabase-resources" title="Permalink to this headline">¶</a></h3>
<p>One reason Metabase is awesome is because of its <a class="reference external" href="https://www.metabase.com/learn/">learn</a> section,
which is full of useful tutorials on how to work with Metabase questions, dashboards, and more.</p>
<p>Below are some helpful articles from Metabase’s learn section:</p>
<ul class="simple">
<li><p>Getting Started</p>
<ul>
<li><p><a class="reference external" href="https://www.metabase.com/learn/getting-started/getting-started.html">Getting Started with Metabase</a> (Video included!)</p></li>
<li><p><a class="reference external" href="https://www.metabase.com/learn/getting-started/tour-of-metabase.html">A Tour of Metabase</a></p></li>
</ul>
</li>
<li><p>Asking Questions</p>
<ul>
<li><p><a class="reference external" href="https://www.metabase.com/learn/questions/drill-through.html">Create Charts with Explorable Data</a></p></li>
<li><p><a class="reference external" href="https://www.metabase.com/learn/questions/custom-expressions.html">Custom Expressions in the Notebook Editor</a></p></li>
</ul>
</li>
<li><p>Working with SQL</p>
<ul>
<li><p><a class="reference external" href="https://www.metabase.com/learn/sql-questions/sql-best-practices.html">Best Practices for Writing SQL Queries</a></p></li>
<li><p><a class="reference external" href="https://www.metabase.com/learn/sql-questions/sql-variables.html">Create Filter Widgets for Charts Using SQL Variables</a> (Video included!)</p></li>
<li><p><a class="reference external" href="https://www.metabase.com/learn/sql-questions/field-filters.html">Field Filters</a></p></li>
</ul>
</li>
<li><p>Visualizing Data</p>
<ul>
<li><p><a class="reference external" href="https://www.metabase.com/learn/visualization/chart-guide.html">Which Chart Should You Use?</a></p></li>
<li><p><a class="reference external" href="https://www.metabase.com/learn/visualization/table.html">Everything You Can Do with the Table Visualization</a></p></li>
<li><p><a class="reference external" href="https://www.metabase.com/learn/visualization/maps.html">Visualizing Data with Maps</a> (Video included!)</p></li>
</ul>
</li>
<li><p>Building Dashboards</p>
<ul>
<li><p><a class="reference external" href="https://www.metabase.com/learn/dashboards/bi-dashboard-best-practices.html">Best Practices for BI Dashboards</a></p></li>
<li><p><a class="reference external" href="https://www.metabase.com/learn/dashboards/linking-filters.html">Linking Filters</a></p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="metabase-at-cal-itp">
<h2>Metabase at Cal-ITP<a class="headerlink" href="#metabase-at-cal-itp" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cal-itp-collections">
<h3>Cal-ITP Collections<a class="headerlink" href="#cal-itp-collections" title="Permalink to this headline">¶</a></h3>
<p>Cal-ITP’s Metabase instance makes use of collections to keep questions and dashboards
organized. Additionally, these collections have specific read/write permissions, in order
to ensure only certain users are able to edit certain questions. This approach helps separate
concerns of question/dashboard ownership and responsibility. As of this writing, there are
three primary collections:</p>
<ul class="simple">
<li><p><strong>Cal-ITP Dashboards:</strong> Read-only dashboards, editable only by Cal-ITP analysts</p></li>
<li><p><strong>Cal-ITP Commons:</strong> Permission-less sharing of questions and dashboards</p></li>
<li><p><strong>Cal-ITP Development:</strong> Analyst-only collection for works in progress</p></li>
</ul>
<p>In general, the <strong>Cal-ITP Dashboards</strong> collection is used for what we might consider
“complete” or “official” sources of truth for the work done by Cal-ITP analysts.</p>
<p>If you are analyst, the 2x2 matrix below should help you understand which
collection you should be operating in for a given piece of work:</p>
<p><img alt="Collection Matrix" src="https://raw.githubusercontent.com/cal-itp/data-infra/main/docs/warehouse/assets/which_collection_to_use.png" /></p>
</div>
<div class="section" id="cal-itp-dashboards-conventions">
<h3>Cal-ITP Dashboards Conventions<a class="headerlink" href="#cal-itp-dashboards-conventions" title="Permalink to this headline">¶</a></h3>
<p>The Cal-ITP Dashboards collection has a few specific conventions that you
should follow in order to help keep your work maintainable and navigable
by your teammates.</p>
<div class="section" id="hierarchy">
<h4>Hierarchy<a class="headerlink" href="#hierarchy" title="Permalink to this headline">¶</a></h4>
<p>In the Cal-ITP Dashboards collection, you will notice that all of the dashboards
are pinned.</p>
<p>Within this collection, there are sub-collections - one sub-collection for each
dashboard. For sub-collection naming, if the dashboard is called “GTFS Schedule
Dashboard”, the sub-collection should be called “GTFS Schedule Dashboard Questions”.
Keeping with this example, all of the questions that power the GTFS Schedule Dashboard
should be kept in the GTFS Schedule Dashboard sub-collection.</p>
</div>
<div class="section" id="question-title-format">
<h4>Question Title Format<a class="headerlink" href="#question-title-format" title="Permalink to this headline">¶</a></h4>
<p>Dashboards can feature a lot of questions! In order to keep questions organized in
their sub-collections, we use a double pipe (<code class="docutils literal notranslate"><span class="pre">||</span></code>) to separate the section of the
dashboard from the question name. Having both the dashboard section and the question
name available available in the title of the question makes for a manageable rendering
of all questions in a dashboard’s sub-collection of questions.</p>
<p>A question naming example would be something like this: if there was a “Summary” section
of your dashboard, and you had a question that specified the start date of that dashboard,
then your title would be something like <code class="docutils literal notranslate"><span class="pre">Summary</span> <span class="pre">||</span> <span class="pre">Dashboard</span> <span class="pre">Start</span> <span class="pre">Date</span></code>.</p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./warehouse"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="04_sql_snippets.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">SQL Snippets</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="06_table_names.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Table names</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Jarv.us<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>